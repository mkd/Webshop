<!--
   - profile.html
   -
   - Display a user's profile and let him/her modify it.
   -
   - (c) 2011 The Webshop Team
!-->



<!-- layout inherited from base.html -->
{% extends "base.html" %}



<!-- title and extra headers -->
{% block title %} Webshop | My Profile {% endblock %}
{% block extra_head %}
    <!-- immediately refresh user's avatar on reload -->
	<meta http-equiv="cache-control" content="no-cache" />
{% endblock %}



<!-- buyer sidebar -->
{% block side_bar %}
    {% include "buyer_sidebar.html" %}
{% endblock %}



<!-- main content -->
{% block main_content %}
    {% block profile_form %}
        <h1>My Profile</h1>

        <!-- notify the user about the success of saving or not -->
        {% if saved %}
            <div class="success">Profile data saved successfully!</div>
        {% endif %}

        <form enctype="multipart/form-data" id="profile_form" method="post" action="/saveProfile">
        {% csrf_token %}
        <table>
        <tr>
            <td colspan="2">
                <img src="{{ picture }}" align="middle"
                     height="64" id="picture_enabler"
                     style="cursor: pointer;" title="Add your own picture" />
                <em>Click on the image to change your own picture</em>
                <br />
                {{ form.picture }}
            </td>
        </tr>
        <tr>
            <td>
	        <label for="fname">First name:</label>
            </td>
            <td>
            <input type="text" id="fname" name="fname" value="{{ fname }}" />
            </td>
        </tr>
        <tr>
            <td>
	        <label for="fname">Last name:</label>
            </td>
            <td>
            <input type="text" id="sname" name="sname" value="{{ sname }}" />
            </td>
        </tr>
        <tr>
            <td>
	        <label for="user">Username:</label>
            </td>
            <td>
            {{ user }}
            <input type="hidden" name="user" value="{{ user }}" />
            </td>
        </tr>
        <tr>
            <td>
	        <label for="pass">Password:</label>
            </td>
            <td>
            {{ form.passwd }}
            </td>
        </tr>
        <tr>
            <td>
	        <label for="pass2">Repeat password:</label>
            </td>
            <td>
            {{ form.pass2 }}
            </td>
        </tr>
        <tr>
            <td>
	        <label for="email">Email:</label>
            </td>
            <td>
            {{ email }}
            </td>
        </tr>
        <tr>
            <td>
	        <label for="address">Address:</label>
            </td>
            <td>
            <input type="text" maxlength="32" id="address" name="address" value="{{ address }}" />
            </td>
        </tr>
        <tr>
            <td>
	        <label for="postal_code">Postal code:</label>
            </td>
            <td>
            <input type="text" id="postal_code" name="postal_code" value="{{ postal_code }}" />
            </td>
        </tr>
        <tr>
            <td>
	        <label for="city">City:</label>
            </td>
            <td>
            <input type="text" id="city" name="city" value="{{ city }}" />
            </td>
        </tr>
        <tr>
            <td>
	        <label for="postal_country">Country:</label>
            </td>
            <td>
            <input type="text" id="country" name="country" value="{{ country }}" />
            </td>
        </tr>
        <tr>
            <td colspan="2" class="buttons">
                <input class="button" type="submit" id="submit" name="submit" value="Save" />
            </td>
        </tr>
        </table>
        </form>
    {% endblock %}
{% endblock %}
